<!doctype html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>04-liczby-rzeczywiste</title>
    <link rel="stylesheet" href="../style.css">

    <!--    Load mathjax from cdn to render latex equations-->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<div class="prev-next-links">
    
    <div class="index-links-prev">
        <a href="03-arytmetyka-u2.pdf">Poprzedni: 03-arytmetyka-u2.pdf</a>
    </div>
    

    
    <div class="index-links-next">
        <a href="04-liczby-rzeczywiste.html">Następny: 04-liczby-rzeczywiste.html</a>
    </div>
    
    <div class="return-link">
        <a href="..">Powrót</a>
    </div>
</div>
<div class="container">
    <div class="index-links-wrapper">
        <h2>Podstawy informatyki i programowania</h2>
        <div class="index-links">
            <ul>
                
                <li><a href="00-wstep.html">00-wstep.html</a></li>
                
                <li><a href="01-podstawy.html">01-podstawy.html</a></li>
                
                <li><a href="02-architektura-komputera.html">02-architektura-komputera.html</a></li>
                
                <li><a href="03-arytmetyka-u2.pdf">03-arytmetyka-u2.pdf</a></li>
                
                <li><a href="03-liczby-calkowite.html">03-liczby-calkowite.html</a></li>
                
                <li><a href="04-liczby-rzeczywiste.html">04-liczby-rzeczywiste.html</a></li>
                
                <li><a href="05-znaki-i-napisy.html">05-znaki-i-napisy.html</a></li>
                
                <li><a href="06-algorytmy.html">06-algorytmy.html</a></li>
                
                <li><a href="07-przeplyw-sterowania.html">07-przeplyw-sterowania.html</a></li>
                
                <li><a href="08-funkcje-stos-pamiec-w-procesie.html">08-funkcje-stos-pamiec-w-procesie.html</a></li>
                
                <li><a href="09-wstep-do-inzynierii-oprogramowania.html">09-wstep-do-inzynierii-oprogramowania.html</a></li>
                
                <li><a href="10-zlozonosc-obliczeniowa.html">10-zlozonosc-obliczeniowa.html</a></li>
                
                <li><a href="11-lingwistyka-matematyczna.html">11-lingwistyka-matematyczna.html</a></li>
                
                <li><a href="powtorzenie-do-kolokwium-01.html">powtorzenie-do-kolokwium-01.html</a></li>
                
                <li><a href="powtorzenie-do-kolokwium-02.html">powtorzenie-do-kolokwium-02.html</a></li>
                
            </ul>
        </div>
    </div>
    <div class="content-wrapper">
        <main>
            <p>Jeśli strona była dla Ciebie pomocna, możesz wesprzeć mnie w jej utrzymaniu na <a href="https://buycoffee.to/mgarbowski">buycoffee.to/mgarbowski</a></p>
            <h1 id="liczby-rzeczywiste-2022-10-27">Liczby rzeczywiste
(2022-10-27)</h1>
<p>Tak samo jak w systemie dziesiętnym, nie każdą liczbę da się
przedstawić dokładnie <span
class="math inline">\(\frac{1}{3}=0.(3)_{10}\)</span>, <span
class="math inline">\(\frac{1}{10}=0.0(0011)_2\)</span></p>
<h2 id="zamiana-liczby-z-częścią-ułamkową-na-postać-binarną">Zamiana
liczby z częścią ułamkową na postać binarną</h2>
<p>3.14</p>
<ul>
<li>Część całkowitą traktujemy oddzielnie, zamiana znanym algorytmem na
11</li>
<li>Zostaje 0.14</li>
<li>Mnożymy razy 2 i zapisujemy cyfrę jedności</li>
<li>Odejmujemy 1 jeśli cyfrą jedności było 1</li>
</ul>
<table>
<thead>
<tr class="header">
<th>wartość</th>
<th>razy 2</th>
<th>bit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0.14</td>
<td>0.28</td>
<td>0</td>
</tr>
<tr class="even">
<td>0.28</td>
<td>0.56</td>
<td>0</td>
</tr>
<tr class="odd">
<td>0.56</td>
<td>1.12</td>
<td>1</td>
</tr>
<tr class="even">
<td>0.12</td>
<td>0.24</td>
<td>0</td>
</tr>
<tr class="odd">
<td>0.24</td>
<td>0.48</td>
<td>0</td>
</tr>
<tr class="even">
<td>0.48</td>
<td>0.96</td>
<td>0</td>
</tr>
<tr class="odd">
<td>0.96</td>
<td>1.92</td>
<td>1</td>
</tr>
<tr class="even">
<td>0.92</td>
<td>1.84</td>
<td>1</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>1</th>
<th>1</th>
<th>.</th>
<th>0</th>
<th>0</th>
<th>1</th>
<th>0</th>
<th>0</th>
<th>0</th>
<th>1</th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>waga</td>
<td>2</td>
<td>1</td>
<td></td>
<td>1/2</td>
<td>1/4</td>
<td>1/8</td>
<td>1/16</td>
<td>1/32</td>
<td>1/64</td>
<td>1/128</td>
<td>1/256</td>
</tr>
</tbody>
</table>
<p>Otrzymujemy przybliżony wynik <span
class="math inline">\(3\frac{35}{256}=3.13671875\)</span></p>
<h2 id="ieee-754">IEEE 754</h2>
<p>Standardowa specyfikacja reprezentacji liczby ziennoprzecinkowej na
32 bitach określa IEEE 754</p>
<p><span class="math display">\[
(-1)^S \cdot M \cdot 2^{E-127}
\]</span></p>
<p>SEEEEEEEEMMMMMMMMMMMMMMMMMMMMMMM</p>
<ul>
<li>S (sign)
<ul>
<li>1 bit</li>
<li>znak liczby</li>
</ul></li>
<li>M (mantissa)
<ul>
<li>23 bity (hidden MSB)</li>
<li>znormalizowana mantysa</li>
<li>liczba z przedziału [1,2)</li>
<li>najbardziej znaczący bit ma zawsze wartość1 i nie jest zapisywany
(hidden MSB)</li>
</ul></li>
<li>E (exponent)
<ul>
<li>8 bitów</li>
<li>wykładnik / cecha</li>
<li>przesunięty o 127 (prawdziwy wykładnik to E-127)</li>
<li>bias 127</li>
</ul></li>
</ul>
<p>Wartości, które można reprezentować nie są rozłożone równomiernie na
osi liczbowej</p>
<h2 id="typ-float-w-cc">Typ float w C/C++</h2>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 18%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="odd">
<td>FLT_EPSILON</td>
<td>1.19209290E-07F</td>
<td>Różnica między 1 i najmniejszą wartością większą od 1</td>
</tr>
<tr class="even">
<td>FLT_DIG</td>
<td>6</td>
<td>Liczba cyfr po przecinku, które są dokładne</td>
</tr>
<tr class="odd">
<td>FLT_MIN</td>
<td>1.17549435E-38F</td>
<td>Najmniejsza możliwa wawrtość</td>
</tr>
<tr class="even">
<td>FLT_MIN_10_EXP</td>
<td>-37</td>
<td>Najmniejsza potęga 10 jaka się zmieści</td>
</tr>
<tr class="odd">
<td>FLT_MAX</td>
<td>3.40282347E+38F</td>
<td>Największa możliwa wartość</td>
</tr>
<tr class="even">
<td>FLT_MAX_10_EXP</td>
<td>38</td>
<td>Największa potęga 10 jaka się zmieści</td>
</tr>
</tbody>
</table>
<ul>
<li>Float - 32 bity, pojedyncza precyzja</li>
<li>Double - 64 bity, podwójna precyzja</li>
</ul>
<h2 id="zamiana-liczby-na-postać-ieee-754">Zamiana liczby na postać IEEE
754</h2>
<ul>
<li>2019 = 0111 1110 0011</li>
<li>Znormalizowanie: 1.11 1110 0011 * 2^10</li>
<li>Zaokrąglenie do odpowiedniej liczby bitów
<ul>
<li>Dodać 1 do pierwszsego nie mieszczącego się bitu</li>
<li>Obciąć nie mieszczące się bity</li>
</ul></li>
<li>Obciążenie wykładnika 10 + 127 = 137</li>
<li>Znak (S): 0</li>
<li>Wykładnik (E): 1000 1001</li>
<li>Mantysa (M): 111 1100 0110 0000 0000 0000</li>
<li>Otzrymujemy 0100 0100 1111 1100 0110 0000 0000 0000</li>
<li>Kodując heksadecymalnie 0x44FC6000</li>
</ul>
<p>Procesor musi pracować na szerszym zakresie bitów, żeby obsłużyć
zaokrąglenia</p>
<h2 id="wartości-specjalne-i-przykłady">Wartości specjalne i
przykłady</h2>
<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 13%" />
<col style="width: 41%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="header">
<th>Typ</th>
<th>Wykładnik</th>
<th>Mantysa</th>
<th>Wartość</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Zero</td>
<td>0000 0000</td>
<td>000 0000 0000 0000 0000 0000</td>
<td>0.0 (<span class="math inline">\(1^{-127}\)</span>)</td>
</tr>
<tr class="even">
<td>Jeden</td>
<td>0111 1111</td>
<td>000 0000 0000 0000 0000 0000</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td>Max</td>
<td>1111 1110</td>
<td>111 1111 1111 1111 1111 1111</td>
<td>3.4e+38</td>
</tr>
<tr class="even">
<td>Min</td>
<td>0000 0001</td>
<td>000 0000 0000 0000 0000 0000</td>
<td>1.8e-388</td>
</tr>
<tr class="odd">
<td>Nieskończoność</td>
<td>1111 1111</td>
<td>000 0000 0000 0000 0000 0000</td>
<td><span class="math inline">\(\plusmn\infty\)</span></td>
</tr>
<tr class="even">
<td>NaN</td>
<td>1111 1111</td>
<td>non-zero</td>
<td>NaN</td>
</tr>
</tbody>
</table>
<h2 id="operacje">Operacje</h2>
<ul>
<li>Rzutowanie FLP na INT</li>
<li>Zaokrąglenie</li>
<li>Sufit</li>
<li>Podłoga</li>
</ul>
<h2 id="operacje-arytmetyczne">Operacje arytmetyczne</h2>
<ul>
<li>Mnożenie i dzielenie
<ul>
<li>Suma wykładników</li>
<li>Iloczyn mantysy</li>
<li>Znormalizować wynik</li>
</ul></li>
<li>Dodawanie i odejmowanie
<ul>
<li>Sprowadzenie do wspólnego wykładnika</li>
<li>Suma mantys</li>
<li>Znormalizować wynik</li>
</ul></li>
</ul>
<p>Operacje wykonuje koprocesor FPU (Floating Point Unit)</p>
<p>Operacje arytmetyczne na liczbach zmiennoprzecinkowych są parami
operacji na liczbach stałoprzecinkowych</p>
<h2 id="ważne">Ważne</h2>
<ul>
<li>Reprezentacje i wyniki operacji są przybliżone</li>
<li>Wynik może zależeć od kolejności wykonywania <span
class="math inline">\(a+b \ne b+a\)</span></li>
<li>Nie należy używać relacji równości, tylko
<code>abs(a-b) &lt; epsilon</code></li>
<li>Nie stosować tam, gdzie przybliżony wynik jest niedopuszczalny (np.
w finansach)</li>
</ul>

        </main>
    </div>
    <div class="table-of-contents">
        <nav id="TOC" role="doc-toc">
<ul>
<li><a href="#liczby-rzeczywiste-2022-10-27">Liczby rzeczywiste
(2022-10-27)</a>
<ul>
<li><a href="#zamiana-liczby-z-częścią-ułamkową-na-postać-binarną">Zamiana
liczby z częścią ułamkową na postać binarną</a></li>
<li><a href="#ieee-754">IEEE 754</a></li>
<li><a href="#typ-float-w-cc">Typ float w C/C++</a></li>
<li><a href="#zamiana-liczby-na-postać-ieee-754">Zamiana liczby na
postać IEEE 754</a></li>
<li><a href="#wartości-specjalne-i-przykłady">Wartości specjalne i
przykłady</a></li>
<li><a href="#operacje">Operacje</a></li>
<li><a href="#operacje-arytmetyczne">Operacje arytmetyczne</a></li>
<li><a href="#ważne">Ważne</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>
</body>
</html>