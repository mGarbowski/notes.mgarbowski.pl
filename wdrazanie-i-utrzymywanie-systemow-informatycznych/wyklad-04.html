<!doctype html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>wyklad-04</title>
    <link rel="stylesheet" href="../style.css">

    <!--    Load mathjax from cdn to render latex equations-->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<div class="prev-next-links">
    
    <div class="index-links-prev">
        <a href="wyklad-03.html">Poprzedni: wyklad-03.html</a>
    </div>
    

    
    <div class="index-links-next">
        <a href="wyklad-10.html">Następny: wyklad-10.html</a>
    </div>
    
    <div class="return-link">
        <a href="..">Powrót</a>
    </div>
</div>
<div class="container">
    <div class="index-links-wrapper">
        <h2>Wdrażanie i utrzymywanie systemów informatycznych</h2>
        <div class="index-links">
            <ul>
                
                <li><a href="kolokwium-01.html">kolokwium-01.html</a></li>
                
                <li><a href="kolokwium-02.html">kolokwium-02.html</a></li>
                
                <li><a href="lab-00.html">lab-00.html</a></li>
                
                <li><a href="wyklad-00.html">wyklad-00.html</a></li>
                
                <li><a href="wyklad-01.html">wyklad-01.html</a></li>
                
                <li><a href="wyklad-02.html">wyklad-02.html</a></li>
                
                <li><a href="wyklad-03.html">wyklad-03.html</a></li>
                
                <li><a href="wyklad-04.html">wyklad-04.html</a></li>
                
                <li><a href="wyklad-10.html">wyklad-10.html</a></li>
                
                <li><a href="wyklad-11.html">wyklad-11.html</a></li>
                
                <li><a href="wyklad-12.html">wyklad-12.html</a></li>
                
            </ul>
        </div>
    </div>
    <div class="content-wrapper">
        <main>
            <h1 id="section">2025-04-03</h1>
<h2 id="miary-bezpieczeństwa">Miary bezpieczeństwa</h2>
<ul>
<li>Najmniej ustandaryzowane, najbardziej nieuchwytne pod względem
metryk</li>
<li>Podatność to coś co istnieje w systemie
<ul>
<li>może zostać użyta do naruszenia bezpieczeństwa</li>
</ul></li>
<li>Liczba podatności bezpieczeństwa</li>
<li>Czas istnienia podatności od wykrycia do usunięcia</li>
<li>Pokrycie procentowe testami bezpieczeństwa
<ul>
<li>np. testy penetracyjne</li>
</ul></li>
<li>Procent słabych / mocnych haseł użytkowników
<ul>
<li>jedno słabe hasło to problem użytkownika</li>
<li>wiele słabych haseł w systemie to nasz problem</li>
</ul></li>
<li>Powierzchnia ataku
<ul>
<li>na ile różnych sposobów system może zostać zaatakowany</li>
<li>np. liczba publicznych interfejsów</li>
</ul></li>
<li>Liczba wykrytych ataków</li>
</ul>
<h2 id="service-level-agreement-sla">Service Level Agreement (SLA)</h2>
<ul>
<li>Porozumienie między usługodawcą i usługobiorcą określające poziom i
warunki świadczonych usług</li>
<li>Składniki
<ul>
<li>dokładny opis świadczonych usług</li>
<li>określenie minimalnego czasu dostępności usługi / systemu</li>
<li>czas reakcji</li>
<li>czas rozwiązania problemu</li>
<li>procedura zgłaszania awarii</li>
<li>monitorowanie i raportowanie działań</li>
<li>konsekwencje niewypełnienia umowy</li>
</ul></li>
<li>Czas reakcji i rozwiązania ustala się w zależności od stopnia
istotności</li>
<li>Monitorowanie
<ul>
<li>z jaką częstotliwością</li>
<li>jakimi narzędziami</li>
</ul></li>
<li>Między dużymi podmiotami to może mieć formę spisanego dokumentu
<ul>
<li>mniej formalna postać jeśli to porozumienie między 2 działami tej
samej firmy</li>
</ul></li>
</ul>
<h3 id="wielowarstwowe-sla">Wielowarstwowe SLA</h3>
<ul>
<li>Aplikacja w chmurze publicznej
<ul>
<li>klient eksploatujący aplikację</li>
<li>zespół dostarczający i utrzymujący aplikację</li>
<li>dostawca publicznej chmury</li>
</ul></li>
<li>Nie ma możliwości utrzymywania jeśli będzie awaria samej chmury</li>
<li>SLA między klientem i dostawcą usługi odwołuje się do SLA dostawcy i
dostawcy chmury</li>
<li>W Azure SLA są zdefiniowane osobno dla różnych usług
<ul>
<li>są dodatkowo płatne wersje premium SLA</li>
</ul></li>
</ul>
<h2 id="narzędzia-monitorowania-bieżącego-systemów-it">Narzędzia
monitorowania bieżącego systemów IT</h2>
<ul>
<li>Zabbix</li>
<li>Splunk</li>
<li>Prometheus/Grafana</li>
<li>Co robią
<ul>
<li>agregacja logów</li>
<li>wyliczanie metryk</li>
</ul></li>
</ul>
<h3 id="zbieranie-i-agregacja-logów-z-działających-systemów">Zbieranie i
agregacja logów z działających systemów</h3>
<ul>
<li>ELK stack
<ul>
<li>Elastic</li>
<li>Logstash</li>
<li>Kibana</li>
<li>Filebeat</li>
</ul></li>
<li>Aplikacja jest wdrożona w postaci wielu mikroserwisów w kontenerach
<ul>
<li>każdy mikroserwis generuje logi i zapisuje je do systemu plików
kontenera</li>
<li>coś poszło nie tak i chcemy wyjaśnić co się stało</li>
<li>trzeba przejrzeć logi każdego kontenera</li>
<li>niepraktyczne</li>
</ul></li>
<li>Wszystkie logi powinno się gromadzić w jednym miejscu</li>
<li>W każdym mikroserwisie gromadzi się logi
<ul>
<li>np. jeden proces który czyta pliki logów</li>
<li>jeśli wykryje nową linię logu, wysyła request do Logstash</li>
</ul></li>
<li>Logstash
<ul>
<li>przetwarzanie, czyszczenie</li>
<li>dodaje metadane</li>
<li>np. przekształcenie daty do jednolitego formatu</li>
<li>po przetworzeniu przesyła do bazy danych (Elastic)</li>
</ul></li>
<li>Elasticsearch
<ul>
<li>baza danych noSQL</li>
<li>szybkie wyszukiwanie pełnotekstowe</li>
</ul></li>
<li>Kibana
<ul>
<li>wizualizacja zbioru danych z elasticsearch</li>
<li>interfejs do wysyłania zapytań do Elasticsearch</li>
</ul></li>
<li>Z logów można wyciągnąć np. czas odpowiedzi systemu</li>
<li>Alerty
<ul>
<li>zapytanie do bazy z binarną odpowiedzią</li>
<li>czy w ciągu ostatniej godziny czas odpowiedzi przekroczył x</li>
<li>jeśli tak, to jest wyzwalany alert</li>
<li>mail, wiadomość na komunikator, sms - ludzie zaczną je
ignorować</li>
<li>czułość alertów raczej ustala się metodą prób i błędów</li>
<li>alertów powinno być stosunkowo niedużo i nie generować false
positive</li>
</ul></li>
<li>Root cause analysis
<ul>
<li>dojście do źródła problemu - gdzie faktycznie zaczęła się
awaria</li>
<li>pozwala znaleźć kolejny punkt, w którym należy ustalić alert</li>
<li>stopniowe usprawnianie systemu</li>
</ul></li>
</ul>
<h2 id="obserwowalność">Obserwowalność</h2>
<ul>
<li>Miara jak dobrze jesteśmy w stanie poznać wewnętrzny stan systemu na
podstawie znajomość zewnętrznych wyjść systemu
<ul>
<li>z teorii sterowania</li>
</ul></li>
<li>Logi - wysokopoziomowa obserwowalność
<ul>
<li>co jak przestaną przychodzić logi</li>
</ul></li>
<li>Każde narzędzie ujawnia jakieś informacje
<ul>
<li>OS, Docker, JVM</li>
</ul></li>
</ul>
<h3 id="obserwowalność-na-poziomie-systemu-operacyjnego">Obserwowalność
na poziomie systemu operacyjnego</h3>
<ul>
<li><code>top</code>, <code>ps</code> - stan procesorów i procesów
<ul>
<li>Load average - długość kolejki zadań</li>
<li>jak nagle wzrośnie to wiadomo że coś jest nie tak</li>
</ul></li>
<li><code>free</code> - pamięć</li>
<li><code>du</code> - zajętość dysku</li>
<li><code>ifconfig</code> - interfejsy sieciowe</li>
<li><code>nload</code> - stan użycia sieci</li>
<li><code>netstat</code></li>
</ul>
<h3 id="logi-systemu-operacyjnego">Logi systemu operacyjnego</h3>
<ul>
<li>syslog</li>
<li>authlog</li>
<li>boot.log</li>
<li>kern</li>
<li>dmesg - sterowniki</li>
<li>logi aplikacji
<ul>
<li>/var/log/mysqld.log</li>
</ul></li>
</ul>
<h3 id="obserwowalność-w-dockerze">Obserwowalność w Dockerze</h3>
<ul>
<li><code>docker stats</code></li>
<li><code>docker inspect</code></li>
</ul>
<h3 id="obserwowalność-w-jvm">Obserwowalność w JVM</h3>
<ul>
<li>JMX - Java Management Extension</li>
<li>Informacje o stanie maszyny wirtualnej
<ul>
<li>ile wątków</li>
<li>aktywność garbage collectora</li>
</ul></li>
</ul>
<h3 id="obserwowalność-na-poziomie-aplikacji">Obserwowalność na poziomie
aplikacji</h3>
<ul>
<li>Instrumentacja, jakaś biblioteka</li>
<li>Np. dodatkowy endpoint</li>
<li>Spring Actuator</li>
<li>Tutaj można definiować metryki biznesowe
<ul>
<li>np. liczba zamówień</li>
</ul></li>
</ul>
<h3 id="inne-poziomy">Inne poziomy</h3>
<ul>
<li>System działa w szerszym kontekście niż sama aplikacja webowa</li>
<li>Należy monitorować np. sieć korporacyjną</li>
</ul>
<h1 id="cicd">CI/CD</h1>
<h2 id="proces-wytwarzania-oprogramowania">Proces wytwarzania
oprogramowania</h2>
<ul>
<li>Etapy
<ul>
<li>projektowanie / analiza</li>
<li>implementacja</li>
<li>inspekcja kodu</li>
<li>testy jednostkowe</li>
<li>kompilacja / budowanie</li>
<li>wdrożenie na środowiska wykonawcze</li>
<li>testy integracyjne na tych środowiskach</li>
</ul></li>
<li>Dwa pierwsze kroki przynoszą wartość biznesową, a pozostałe to koszt
inżynierii oprogramowania</li>
<li>Zgodnie z tradycyjnym rozumieniem ekonomii trzeba by ograniczać
etapy 3-7 wykonując je jak najrzadziej
<ul>
<li>w IT to się nie sprawdza</li>
<li>chcemy nie najefektywniej (najwięcej czasu w etapach 1-2 w stosunku
do 3-7), a najszybciej (przejście od 1 do 7)</li>
</ul></li>
<li>Długie cykle wdrożeniowe
<ul>
<li>wymagania się zmienią</li>
<li>rynek się zmieni</li>
<li>klient zamówił co innego niż dostał</li>
<li>rośnie złożoność każdej czynności i to nie liniowo</li>
</ul></li>
</ul>
<h2 id="proces-ciągłej-integracji-wdrażania-dostarczania">Proces ciągłej
integracji / wdrażania / dostarczania</h2>
<ul>
<li>Róbmy małe paczki</li>
<li>Jak najczęściej przechodzimy przez pełny cykl</li>
<li>Etapy 3-7 są wykonywane często
<ul>
<li>nie można ich robić ręcznie</li>
<li>trzeba je zautomatyzować</li>
</ul></li>
<li>CI - Continuous Integration
<ul>
<li>ciągła integracja nowego kodu z istniejącym kodem</li>
</ul></li>
<li>CD - Continuous Delivery
<ul>
<li>ciągle dostarczane gotowe oprogramowanie do wdrożenia</li>
<li>zawiera w sobie CI</li>
<li>wdrożenie jest <em>na przycisk</em>, wszystko jest przygotowane</li>
</ul></li>
<li>CD - Continuous Deployment
<ul>
<li>ciągłe wdrażanie na środowisko (w skrajnym wypadku na
produkcję)</li>
<li>zawiera w sobie Continuous Delivery</li>
<li>wdrożenie idzie automatycznie</li>
</ul></li>
</ul>
<h2 id="środowisko-wykonawcze">Środowisko wykonawcze</h2>
<ul>
<li>Część lub całość systemu</li>
<li>Przeznaczona do wykonywania określonych czynności procesu
wytwarzania oprogramowania</li>
<li>Np. środowisko deweloperskie
<ul>
<li>celem jest wspieranie rozwoju oprogramowania</li>
</ul></li>
<li>Np. środowisko testowe
<ul>
<li>celem jest przeprowadzenie testów</li>
</ul></li>
<li>Np. środowisko produkcyjne
<ul>
<li>celem jest świadczenie usługi klientom</li>
</ul></li>
</ul>
<h2 id="development-pipeline">Development pipeline</h2>
<ul>
<li>Szereg czynności wykonywanych w celu dostarczenia nowej wersji
oprogramowania</li>
<li>Narzędzia CI/CD wspierają tworzenie pipeline’ów i ich
wykonywanie</li>
</ul>
<h2 id="narzędzia-cicd">Narzędzia CI/CD</h2>
<ul>
<li>Jenkins
<ul>
<li>wykonywanie może być rozproszone na wiele węzłów</li>
<li>operacje wykonują się w kontenerach</li>
</ul></li>
<li>GitLab CI</li>
<li>TeamCity</li>
<li>CircleCI</li>
<li>Azure Devops</li>
</ul>
<p>Na kolokwium troche pytań testowych i 2 pytania otwarte To co na
wykładach i na slajdach</p>

        </main>
    </div>
    <div class="table-of-contents">
        <nav id="TOC" role="doc-toc">
<ul>
<li><a href="#section" id="toc-section">2025-04-03</a>
<ul>
<li><a href="#miary-bezpieczeństwa" id="toc-miary-bezpieczeństwa">Miary
bezpieczeństwa</a></li>
<li><a href="#service-level-agreement-sla" id="toc-service-level-agreement-sla">Service Level Agreement (SLA)</a>
<ul>
<li><a href="#wielowarstwowe-sla" id="toc-wielowarstwowe-sla">Wielowarstwowe SLA</a></li>
</ul></li>
<li><a href="#narzędzia-monitorowania-bieżącego-systemów-it" id="toc-narzędzia-monitorowania-bieżącego-systemów-it">Narzędzia
monitorowania bieżącego systemów IT</a>
<ul>
<li><a href="#zbieranie-i-agregacja-logów-z-działających-systemów" id="toc-zbieranie-i-agregacja-logów-z-działających-systemów">Zbieranie i
agregacja logów z działających systemów</a></li>
</ul></li>
<li><a href="#obserwowalność" id="toc-obserwowalność">Obserwowalność</a>
<ul>
<li><a href="#obserwowalność-na-poziomie-systemu-operacyjnego" id="toc-obserwowalność-na-poziomie-systemu-operacyjnego">Obserwowalność
na poziomie systemu operacyjnego</a></li>
<li><a href="#logi-systemu-operacyjnego" id="toc-logi-systemu-operacyjnego">Logi systemu operacyjnego</a></li>
<li><a href="#obserwowalność-w-dockerze" id="toc-obserwowalność-w-dockerze">Obserwowalność w Dockerze</a></li>
<li><a href="#obserwowalność-w-jvm" id="toc-obserwowalność-w-jvm">Obserwowalność w JVM</a></li>
<li><a href="#obserwowalność-na-poziomie-aplikacji" id="toc-obserwowalność-na-poziomie-aplikacji">Obserwowalność na poziomie
aplikacji</a></li>
<li><a href="#inne-poziomy" id="toc-inne-poziomy">Inne poziomy</a></li>
</ul></li>
</ul></li>
<li><a href="#cicd" id="toc-cicd">CI/CD</a>
<ul>
<li><a href="#proces-wytwarzania-oprogramowania" id="toc-proces-wytwarzania-oprogramowania">Proces wytwarzania
oprogramowania</a></li>
<li><a href="#proces-ciągłej-integracji-wdrażania-dostarczania" id="toc-proces-ciągłej-integracji-wdrażania-dostarczania">Proces ciągłej
integracji / wdrażania / dostarczania</a></li>
<li><a href="#środowisko-wykonawcze" id="toc-środowisko-wykonawcze">Środowisko wykonawcze</a></li>
<li><a href="#development-pipeline" id="toc-development-pipeline">Development pipeline</a></li>
<li><a href="#narzędzia-cicd" id="toc-narzędzia-cicd">Narzędzia
CI/CD</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>
</body>
</html>