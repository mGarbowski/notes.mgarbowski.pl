<!doctype html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>wyklad-04-reprezentacja-danych-w-pamieci</title>
    <link rel="stylesheet" href="../style.css">

    <!--    Load mathjax from cdn to render latex equations-->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<div class="prev-next-links">
    
    <div class="index-links-prev">
        <a href="wyklad-03-dane-alfanumeryczne.html">Poprzedni: wyklad-03-dane-alfanumeryczne.html</a>
    </div>
    

    
    <div class="index-links-next">
        <a href="wyklad-05-programmowy-model-uzytkowy.html">Następny: wyklad-05-programmowy-model-uzytkowy.html</a>
    </div>
    
    <div class="return-link">
        <a href="..">Powrót</a>
    </div>
</div>
<div class="container">
    <div class="index-links-wrapper">
        <h2>Architektura komputerów</h2>
        <div class="index-links">
            <ul>
                
                <li><a href="wyklad-01-wstep.html">wyklad-01-wstep.html</a></li>
                
                <li><a href="wyklad-02-klasyfikacja-pamieci.html">wyklad-02-klasyfikacja-pamieci.html</a></li>
                
                <li><a href="wyklad-03-dane-alfanumeryczne.html">wyklad-03-dane-alfanumeryczne.html</a></li>
                
                <li><a href="wyklad-04-reprezentacja-danych-w-pamieci.html">wyklad-04-reprezentacja-danych-w-pamieci.html</a></li>
                
                <li><a href="wyklad-05-programmowy-model-uzytkowy.html">wyklad-05-programmowy-model-uzytkowy.html</a></li>
                
                <li><a href="wyklad-06-wywolania-procedur.html">wyklad-06-wywolania-procedur.html</a></li>
                
                <li><a href="wyklad-07-budowa-modelu-programowego.html">wyklad-07-budowa-modelu-programowego.html</a></li>
                
                <li><a href="wyklad-08-risc-v.html">wyklad-08-risc-v.html</a></li>
                
                <li><a href="wyklad-09-konsolidacja.html">wyklad-09-konsolidacja.html</a></li>
                
                <li><a href="wyklad-10-intel-x86.html">wyklad-10-intel-x86.html</a></li>
                
                <li><a href="wyklad-11-intel-x86.html">wyklad-11-intel-x86.html</a></li>
                
                <li><a href="wyklad-12-intel-x86.html">wyklad-12-intel-x86.html</a></li>
                
                <li><a href="wyklad-13-komputer-jednocyklowy.html">wyklad-13-komputer-jednocyklowy.html</a></li>
                
                <li><a href="wyklad-14-komputer-wielocyklowy.html">wyklad-14-komputer-wielocyklowy.html</a></li>
                
                <li><a href="wyklad-16-potokowe-jednostki-wykonawcze.html">wyklad-16-potokowe-jednostki-wykonawcze.html</a></li>
                
                <li><a href="wyklad-18-kieszenie.html">wyklad-18-kieszenie.html</a></li>
                
                <li><a href="wyklad-19-wydajnosc.html">wyklad-19-wydajnosc.html</a></li>
                
                <li><a href="wyklad-20-zarzadzanie-zasobami.html">wyklad-20-zarzadzanie-zasobami.html</a></li>
                
                <li><a href="wyklad-22-wyjatki.html">wyklad-22-wyjatki.html</a></li>
                
                <li><a href="wyklad-23-wejscie-wyjscie.html">wyklad-23-wejscie-wyjscie.html</a></li>
                
                <li><a href="wyklad-24-budowa-komputera.html">wyklad-24-budowa-komputera.html</a></li>
                
                <li><a href="zadania.html">zadania.html</a></li>
                
            </ul>
        </div>
    </div>
    <div class="content-wrapper">
        <main>
            <p>Jeśli strona była dla Ciebie pomocna, możesz wesprzeć mnie w jej utrzymaniu na <a href="https://buycoffee.to/mgarbowski">buycoffee.to/mgarbowski</a></p>
            <h1 id="wykład-04-2023-03-01">Wykład 04 (2023-03-01)</h1>
<p>Każdy etap obliczeń zmiennopozycyjnych wprowadza błąd. Błędy się
kumulują</p>
<h2 id="binarny-zapis-liczb-dziesiętnych-zmiennopozpycyjnych">Binarny
zapis liczb dziesiętnych zmiennopozpycyjnych</h2>
<p>Historycznie wykorzystywano obliczenia na BCD (język COBOL).
Współczesny standard IEEE754-2008 umożliwia precyzyjną reprezentację
zmiennopozycyjnych liczb dziesiętnych.</p>
<p>I tak wprowadza błąd w obliczeniahc zmiennopozycyjnych ale nie ma
błędu wynikającego z przeliczania na system binarny. Jest przy tym dużo
bardziej oszczędny niż BCD.</p>
<p>Nie ma jednoznacznej znormalizowanej formy. Standard jest strasznie
skomplikowany.</p>
<p>Declety - grupy 3 cyfr dziesiętnych zakodowane na 10 bitach.</p>
<h2 id="organizacja-pamięci">Organizacja pamięci</h2>
<p>Kiedy dana zajmuje wiele bajtów, to za jej adres przyjmuje się
najmniejszy adres</p>
<h3 id="little-endian">Little endian</h3>
<ul>
<li>LSB na najmniejszym adresie, MSB na największym</li>
<li>numeracja bitów jest zgodna z wagami</li>
<li>łatwiejsze rzutowanie typów - adres danej 8-bitowej będzie taki sam
jak 32-bitowej</li>
<li>większość współczesnych architektur, x86, ARM teoretycznie da się
przełączyć</li>
</ul>
<h3 id="big-endian">Big endian</h3>
<ul>
<li>MSB na najmniejszym adresie, LSB na największym</li>
<li>Rzutowanie typu wymaga zmiany wartości wskaźnika</li>
<li>Można porównywać łańcuchy znaków większymi kawałkami na raz -
szybsze sortowanie tekstu</li>
<li>Często używane w wielkich komputerach</li>
</ul>
<p>Z logicznego punktu widzenia pamięć jest wektorem bajtów. Fizyczna
budowa pamięci jest dwuwymiarowa, wiersze składają się ze słów 32/64/128
bitowych podzielonych na pojedyncze adresowalne bajty. Całe słowo można
odczytać w jednym dostępie, czas dostępu do danych zależy od tego jak
jest rozmieszczona w pamięci - będzie szybciej jeśli zmieści się w
jednym wierszu pamięci.</p>
<h2 id="wyrównanie-danych">Wyrównanie danych</h2>
<p>Dane układa się w pamięci w taki sposób, który pozwoli zminimalizować
czas dostępu.</p>
<p>Software nie musi znać szerokości słowa pamięci żeby zapewnić
najszybszy możliwy dostęp. Wystarczy że dana znajdzie się pod adresem
podzielnym przez jej długość - wyrównanie naturalne (size alignment). W
nowych architekturach próba odczytu zapisu łamiącego tą zasadę jest
zakazany i rzuca błąd.</p>
<p>Typ danych w definicji implementacji języka ma określone wyrównanie i
rozmiar, we wszystkich współczesnych językach te wartości są równe.</p>
<h2 id="wektory-i-tablice">Wektory i tablice</h2>
<p>Elementy zajmują kolejne komórki pamięci. Grupowanie danych w
wektorze nie ma żadnego narzutu, cały wektor ma takie wyrównanie jak
pojedynczy element.</p>
<p>Wielowymiarowa tablica jest wektorem wektorów.</p>
<h2 id="struktury">Struktury</h2>
<p>Kompilator stosuje wyrównanie naturalne. Generalnie nie musi zachować
kolejności zmiennych skalarnych.</p>
<p>Kompilator musi zachować kolejność pól struktury zgodnie z jej
deklaracją (jak napisał programista). Musi tak być żeby móc utworzyć
wektor struktur i zachować przenośność.</p>
<p>Struktura zaczyna się od adresu właściwego dla wyrównania
najdłuższego wyrównania elementu struktury. Całkowita zajmowana pamięć
przez strukturę jest wielokrotnością najdłuższego pola. Każdy element
musi być wyrównany naturalnie.</p>
<p>Kolejność zmiennych decyduje o tym ile miejsca w pamięci zajmie
struktura. Najlepiej posortować pola po wielkości pola. Część bajtów
może być marnowana.</p>
<p>… obrazek</p>
<h2 id="dane-wektorowe">Dane wektorowe</h2>
<p>Procesory mają szerokie rejestry a składowe danych multimedialnych
(obraz, dźwięk) zajmują typowo 8 lub 16 bitów. Żeby lepiej wykorzystać
rejestry procesora, można załadować cały wektor i operować na całym
wektorze na raz.</p>

        </main>
    </div>
    <div class="table-of-contents">
        <nav id="TOC" role="doc-toc">
<ul>
<li><a href="#wykład-04-2023-03-01">Wykład 04 (2023-03-01)</a>
<ul>
<li><a href="#binarny-zapis-liczb-dziesiętnych-zmiennopozpycyjnych">Binarny
zapis liczb dziesiętnych zmiennopozpycyjnych</a></li>
<li><a href="#organizacja-pamięci">Organizacja pamięci</a>
<ul>
<li><a href="#little-endian">Little endian</a></li>
<li><a href="#big-endian">Big endian</a></li>
</ul></li>
<li><a href="#wyrównanie-danych">Wyrównanie danych</a></li>
<li><a href="#wektory-i-tablice">Wektory i tablice</a></li>
<li><a href="#struktury">Struktury</a></li>
<li><a href="#dane-wektorowe">Dane wektorowe</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>
</body>
</html>