<!doctype html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>09-bezpieczenstwo-aplikacji-webowych</title>
    <link rel="stylesheet" href="../style.css">

    <!--    Load mathjax from cdn to render latex equations-->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<div class="prev-next-links">
    
    <div class="index-links-prev">
        <a href="08-malware.html">Poprzedni: 08-malware.html</a>
    </div>
    

    
    <div class="index-links-next">
        <a href="10-bezpieczenstwo-systemow-operacyjnych.html">Następny: 10-bezpieczenstwo-systemow-operacyjnych.html</a>
    </div>
    
    <div class="return-link">
        <a href="..">Powrót</a>
    </div>
</div>
<div class="container">
    <div class="index-links-wrapper">
        <h2>Bezpieczeństwo systemów i sieci</h2>
        <div class="index-links">
            <ul>
                
                <li><a href="00-organizacja.html">00-organizacja.html</a></li>
                
                <li><a href="01-wstep.html">01-wstep.html</a></li>
                
                <li><a href="02-szyfrowanie.html">02-szyfrowanie.html</a></li>
                
                <li><a href="03-funkcje-skrotu.html">03-funkcje-skrotu.html</a></li>
                
                <li><a href="04-infrastruktura-klucza-publicznego.html">04-infrastruktura-klucza-publicznego.html</a></li>
                
                <li><a href="05-zagrozenia-sieciowe.html">05-zagrozenia-sieciowe.html</a></li>
                
                <li><a href="06-systemy-zapewniajace-bezpieczenstwo.html">06-systemy-zapewniajace-bezpieczenstwo.html</a></li>
                
                <li><a href="07-bezpieczenstwo-aplikacji-c.html">07-bezpieczenstwo-aplikacji-c.html</a></li>
                
                <li><a href="08-malware.html">08-malware.html</a></li>
                
                <li><a href="09-bezpieczenstwo-aplikacji-webowych.html">09-bezpieczenstwo-aplikacji-webowych.html</a></li>
                
                <li><a href="10-bezpieczenstwo-systemow-operacyjnych.html">10-bezpieczenstwo-systemow-operacyjnych.html</a></li>
                
                <li><a href="11-vpn.html">11-vpn.html</a></li>
                
                <li><a href="12-bezpieczenstwo-systemow-automatyki-przemyslowej.html">12-bezpieczenstwo-systemow-automatyki-przemyslowej.html</a></li>
                
                <li><a href="13-systemy-honeypot.html">13-systemy-honeypot.html</a></li>
                
                <li><a href="14-polityka-bezpieczenstwa.html">14-polityka-bezpieczenstwa.html</a></li>
                
            </ul>
        </div>
    </div>
    <div class="content-wrapper">
        <main>
            <p>Jeśli strona była dla Ciebie pomocna, możesz wesprzeć mnie w jej utrzymaniu na <a href="https://buycoffee.to/mgarbowski">buycoffee.to/mgarbowski</a></p>
            <h1 id="bezpieczeństwo-aplikacji-webowych">Bezpieczeństwo aplikacji
webowych</h1>
<h2 id="tendencje-ataków">Tendencje ataków</h2>
<ul>
<li>Coraz więcej ataków na aplikacje webowe</li>
<li>Powstaje coraz więcej aplikacji z dużą liczbą podatności</li>
<li>Potrzeba posiadania zdobytych maszyn w celu wykorzystania ich
podczas kolejnych ataków</li>
<li>Automatyczne skanery wyszukujące podatnych stron</li>
</ul>
<h2 id="narzędzia">Narzędzia</h2>
<h3 id="webscarab">WebScarab</h3>
<ul>
<li>Specjalne proxy umożliwia modyfikację dowolnej informacji
przesyłanej między przeglądarką a serwerem WWW
<ul>
<li>cookies</li>
<li>nagłówki HTTP</li>
<li>treść odpowiedzi</li>
</ul></li>
<li>Do pentestów</li>
</ul>
<h3 id="webgoat">WebGoat</h3>
<ul>
<li>Aplikacja edukacyjna stworzona przez OWASP</li>
<li>Zawiera przykładowe aplikacje z celowo wprowadzonymi
podatnościami</li>
<li>Do nauki pentestów</li>
</ul>
<h2 id="protokół-http">Protokół HTTP</h2>
<ul>
<li>Tekstowy protokół typu request/response</li>
<li>Początkowo stosowany do prezentowania statycznych informacji
<ul>
<li>najczęściej opisanych za pomocą języka HTML</li>
</ul></li>
<li>Podstawowa metoda używania przez przeglądarkę
<ul>
<li>GET - do pobierania zasobów z serwera WWW</li>
<li>POST - wysyłanie danych na serwer</li>
</ul></li>
</ul>
<h2 id="najczęstsze-typy-ataków-na-aplikacji-sieciowe">Najczęstsze typy
ataków na aplikacji sieciowe</h2>
<h3 id="ataki-związane-z-sesją">Ataki związane z sesją</h3>
<ul>
<li>Protokół HTTP jest bezstanowy, aplikacja musi sama zapewnić
realizację sesji</li>
<li>Rozpoznawanie sesji jest realizowane jako przesyłanie pewnej
informacji identyfikującej klienta w żądaniu</li>
<li>Wykorzystywane metody zapewnienia sesji
<ul>
<li>cookies</li>
<li>doklejanie identyfikatora sesji do adresu (URL rewriting)</li>
<li>ukryte pola w stronach</li>
</ul></li>
<li>Sesje
<ul>
<li>ID sesji jest generowany przy pierwszym żądaniu od nowego
klienta</li>
<li>klient dołącza otrzymane ID do kolejnych zapytań</li>
</ul></li>
<li>Niebezpieczeństwa
<ul>
<li>najczęstsze ataki polegają na przechwyceniu sesji - poznaniu
identyfikatora (Session Hijacking)</li>
<li>atak wymuszający użycie identyfikatora sesji (Session Fixation)</li>
<li>odgadnięcie numeru sesji</li>
<li>przechwycenie sesji może umożliwić ominięcie uwierzytelniania</li>
<li>wykradnięcie identyfikatora przez podsłuch lub atak XSS</li>
</ul></li>
<li>Przeciwdziałanie
<ul>
<li>zmiana identyfikatora sesji po zmianie poziomu uprawnień (np. po
zalogowaniu)</li>
</ul></li>
<li>Dobre praktyki
<ul>
<li>szyfrowanie ruchu, zabezpieczenie przed podsłuchem</li>
<li>wygaszanie sesji po wylogowaniu</li>
<li>wygaszanie sesji po upływie czasu nieaktywności (sensownie krótkiego
- tradeoff między bezpieczeństwem a używalnością)</li>
</ul></li>
</ul>
<h3 id="ataki-wstrzyknięcia">Ataki wstrzyknięcia</h3>
<p>Spowodowanie że dane wyłamują się z kontekstu danych i są
interpretowane jako kod wykonywany bez kontroli autora aplikacji</p>
<h4 id="sql-injection">SQL Injection</h4>
<ul>
<li>Odpowiednia manipulacja zapytaniem może prowadzić do innych
zagrożeń, niż tylko ujawnienie większej liczby danych</li>
<li>Dowolna modyfikacja bazy danych
(<code>DROP TABLE users;</code>)</li>
<li>Atak DoS na serwer baz danych</li>
<li>Blind SQL injection
<ul>
<li>dane nie są bezpośrednio wyświetlane</li>
<li>jest sprawdzany jakiś warunek</li>
<li>też można wyciągnąć wszystkie dane przez napisanie odpowiednich
warunków</li>
</ul></li>
<li>Timing attack</li>
</ul>
<h4 id="inne-ataki">Inne ataki</h4>
<ul>
<li>XSS</li>
<li>XPATH injection</li>
<li>JSON injection</li>
<li>HTTP Response Spliting</li>
<li>ORM injection</li>
<li>Cmd injection</li>
<li>LDAP injection</li>
<li>Wszędzie gdzie użytkownik podaje dane, trzeba je sprawdzać</li>
</ul>
<h4 id="command-injection">Command Injection</h4>
<ul>
<li>Kiedy program wywołuje polecenia systemu operacyjnego
(<code>exec(...)</code> itp.)</li>
<li>Duży problem na urządzeniach wbudowanych i IoT</li>
<li>Przy sprzyjających warunkach można dostać bezpośredni dostęp do
maszyny
<ul>
<li>reverse shell</li>
</ul></li>
<li>Przeciwdziałanie
<ul>
<li>unikanie bezpośredniego interpretowania danych</li>
<li><em>escapowanie</em> danych</li>
<li>silna kontrola typów (konwersja)</li>
<li>walidacja parametrów (zwłaszcza po stronie serwera)</li>
</ul></li>
</ul>
<h4 id="cross-site-scripting-xss">Cross Site Scripting (XSS)</h4>
<ul>
<li>HTML injection</li>
<li>wykorzystywany z językami skryptowymi (js)</li>
<li>Dwa rodzaje
<ul>
<li>Reflected XSS - odesłane (odbite) przez serwer</li>
<li>Stored XSS</li>
</ul></li>
<li>Stored XSS
<ul>
<li>dane użytkowników są przechowywane w bazie danych</li>
<li>nieautoryzowany kod może być wysyłany też innym użytkownikom</li>
<li>np. przeglądanie profilu innego użytkownika ze złośliwym kodem</li>
</ul></li>
</ul>
<h3 id="cross-site-request-forgery-csrf">Cross Site Request Forgery
(CSRF)</h3>
<ul>
<li>Wykorzystuje działanie przeglądarek, które po uwierzytelnieniu
użytkownika wysyłają dane tej sesji z dowolnego okienka aplikacji</li>
<li>Przeciwdziałanie
<ul>
<li>do ważnych linków doklejany jest dodatkowy, losowy identyfikator,
niemożliwy do przewidzenia przez atakującego</li>
<li>ważne linki chronimy dodatkowym potwierdzeniem wkyonywanym przez
użytkownika</li>
<li>edukacja użytkowników</li>
</ul></li>
</ul>
<h2 id="owasp">OWASP</h2>
<ul>
<li>Organizacja non-profit zajmująca się propagowaniem wiedzy dotyczącej
aplikacji webowych
<ul>
<li>OWASP Top Ten</li>
</ul></li>
<li>CWE - Common Weakness Enumeration
<ul>
<li>katalog podatności z przykładami w kodzie</li>
<li>dobre do szukania rozwiązań konkretnych problemów</li>
</ul></li>
</ul>

        </main>
    </div>
    <div class="table-of-contents">
        <nav id="TOC" role="doc-toc">
<ul>
<li><a href="#bezpieczeństwo-aplikacji-webowych">Bezpieczeństwo
aplikacji webowych</a>
<ul>
<li><a href="#tendencje-ataków">Tendencje ataków</a></li>
<li><a href="#narzędzia">Narzędzia</a>
<ul>
<li><a href="#webscarab">WebScarab</a></li>
<li><a href="#webgoat">WebGoat</a></li>
</ul></li>
<li><a href="#protokół-http">Protokół HTTP</a></li>
<li><a href="#najczęstsze-typy-ataków-na-aplikacji-sieciowe">Najczęstsze
typy ataków na aplikacji sieciowe</a>
<ul>
<li><a href="#ataki-związane-z-sesją">Ataki związane z sesją</a></li>
<li><a href="#ataki-wstrzyknięcia">Ataki wstrzyknięcia</a></li>
<li><a href="#cross-site-request-forgery-csrf">Cross Site Request
Forgery (CSRF)</a></li>
</ul></li>
<li><a href="#owasp">OWASP</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>
</body>
</html>